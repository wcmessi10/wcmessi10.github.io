# 수직확장 or 수평확장

# **수직확장**

- **수직확장이란?**
    - 기존 서버(자원)의 성능을 향상(Upgrade)시키는 방식
    - 더 큰 사양의 단일 기기로 교체하거나 기존 기기를 업그레이드
- **수직확장의 특징**
    - 확장이 간단하다 ex) 단순 물리적 자원 증설, 네트워크 설계에 변경이 필요 없이 서버 개선
    - 성능 향상에 제한적이다. ex) 향상을 위한 하드웨어적 한계 발생

# **수평확장**

- **수평확장이란?**
    - 시스템에 서버 개수를 늘려 시스템에 들어오는 부하를 분산처리
    - 여러대의 서버가 협력하여 네트워크 설계 속에서 공동작업을 분담하는 **분산처리 시스템**이 가능하다.
- **수평확장의 특징**
    - 이론적으로 확장에 제한이 없다. (무한)
    - 수직확장에 비해 유연한 대응이 가능하다. ex) 급격한 유저 사용 증가
    - 관리적으로나 설계적으로 까다롭다. ex) 비용 관리, 데이터 관리
        - 그래서 자동화 도구?

# **수평확장과 수직확장의 대표적인 케이스**

- **sorry, too many clients already'**
    - PostgreSql 동시 연결 제한에 걸렸을 때 나오는 Exception 중 하나
    - 해당 해결 방법 : postgresql 설정 파일에서 **max_connection = 제한 개수** 확장
    - 기존 서버 리소스 활용도를 높이는 것이기에 수평 확장에 해당
    - 스케줄러로 다건 데이터 조회 및 삽입 중 문제가 자주 발생
- **Load Balancer**
    - 서버 요청 부하를 막기 위해, 여러 인스턴스들이 해당 작업을 분담하는 역할
    - 로드밸런서와 연결된 인스턴스들을 증가시켜 성능 향상에 도움이 될 수 있다 -> 수직 확장

# **모놀리식 아키텍처 (Monolithic Architecture)**

- **모놀리식 아키텍처란?**
    - 단일 코드베이스의 아키텍처
    - 모든 기능과 모듈이 하나의 프로젝트 안에 통합
    - 단일이기 때문에 수직 확장만 가능
- **모놀리식 아키텍처 특징**
    - 스케일이 커지면 유지 보수가 힘들어진다. ex) 웹이랑 서버랑 같이 붙어있는 경우
    - 확장성이 떨어진다. ex) 확장하기 위해서는 이 큰 하나의 아키택처의 성능을 향상 시키는 방법 밖에 없다. -> 수직확장

# **MSA(Micro Service Architecture)**

- **MSA (마이크로 서비스 아키텍처)란?**
    - 하나의 애플리케이션을 독립적으로 동작하는 작은 서비스들로 분리 운영
    - 각각 작은 서비스들은 특정 비즈니스 기능에만 각각 초점을 맞춤수
- **MSA의 특징**
    - 서비스 간 통신이 필요하기에 고려해야할 부분이 많음.
    - 독립적인 배포가 가능하다. ex) 유지보수에 상당이 유용하다.
    - 개수를 늘려서 확장하거나, 역할 분산을 위해 분리하는 등 -> 수평확장

# **결론**

결론적으로, 우리가 개발하고 있는 프로젝트는 **MSA 기반**으로 설계되고 있습니다. 따라서 **개별 서비스에 적합한 기술을 신중히 선택**하고, **효율적인 관리 포인트를 설정**한다면, 프로젝트를 무리 없이 성공적으로 진행할 수 있을 것입니다.

이러한 방향성을 통해 MSA의 장점인 **유연한 확장성**과 **효율적인 유지보수**를 극대화하고, 동시에 복잡성을 효과적으로 관리할 수 있을 것으로 기대됩니다.
